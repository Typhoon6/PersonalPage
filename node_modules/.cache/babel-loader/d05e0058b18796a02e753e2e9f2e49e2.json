{"ast":null,"code":"import { createStore } from 'redux';\nimport { SET_VALUE, SELECT_CELL, SOLVE_PUZZLE, CLEAR_PUZZLES } from './sudokuMove';\nimport { isValidValue, isCellValid, getPeers, solve } from './sudokuSolve';\nexport let initalState = {\n  // state of the input board\n  input: [[8, 5, 6, '', 1, 4, 7, 3, ''], ['', 9, '', '', '', '', '', '', ''], [2, 4, '', '', '', '', 1, 6, ''], ['', 6, 2, '', 5, 9, 3, '', ''], ['', 3, 1, 8, '', 2, 4, 5, ''], ['', '', 5, 3, 4, '', 9, 2, ''], ['', 2, 4, '', '', '', '', 7, 3], ['', '', '', '', '', '', '', 1, ''], ['', 1, 8, 6, 3, '', 2, 9, 4]],\n  // highlight state for all squares. This is used to provide peer highlighting.\n  highlight: [[false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false], [false, false, false, false, false, false, false, false, false]],\n  // the solution board\n  output: [['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '']]\n};\nexport function solver() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initalState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_VALUE:\n      {\n        const {\n          x,\n          y\n        } = action.payload; // using '' to denote blank cells\n\n        const newValue = action.payload.value ? action.payload.value : ''; // copy state to avoid mutations\n\n        let nextState = {\n          input: [[...state.input[0]], [...state.input[1]], [...state.input[2]], [...state.input[3]], [...state.input[4]], [...state.input[5]], [...state.input[6]], [...state.input[7]], [...state.input[8]]],\n          output: [['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '']],\n          highlight: [...state.highlight]\n        }; // add users value\n\n        nextState.input[x][y] = newValue; // only update board if it is valid\n\n        if (isValidValue(newValue) && isCellValid(x, y, nextState.input)) {\n          return { ...nextState\n          };\n        } else {\n          return { ...state\n          };\n        }\n      }\n\n    case SELECT_CELL:\n      {\n        // copy state to avoid mutations\n        let nextSelectedState = {\n          input: [...state.input],\n          output: [...state.output],\n          highlight: [[...initalState.highlight[0]], [...initalState.highlight[1]], [...initalState.highlight[2]], [...initalState.highlight[3]], [...initalState.highlight[4]], [...initalState.highlight[5]], [...initalState.highlight[6]], [...initalState.highlight[7]], [...initalState.highlight[8]]]\n        }; // add selected cell to highlight\n\n        nextSelectedState.highlight[action.payload.x][action.payload.y] = true; // highlight all the peers of this cell\n\n        const peers = getPeers(action.payload.x, action.payload.y);\n\n        for (const peer of peers) {\n          nextSelectedState.highlight[peer.x][peer.y] = true;\n        }\n\n        return nextSelectedState;\n      }\n\n    case SOLVE_PUZZLE:\n      {\n        const output = solve(state.input);\n        const solvedState = {\n          input: [...state.input],\n          output,\n          highlight: [...state.highlight]\n        };\n        return solvedState;\n      }\n\n    case CLEAR_PUZZLES:\n      {\n        const clearedState = {\n          input: [['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '']],\n          output: [['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', ''], ['', '', '', '', '', '', '', '', '']],\n          highlight: [...initalState.highlight]\n        };\n        return clearedState;\n      }\n\n    default:\n      return state;\n  }\n}\nexport default createStore(solver);","map":{"version":3,"sources":["C:/Users/admin/Downloads/Future/personal-project/src/pages/Sudoku/sudokuState.js"],"names":["createStore","SET_VALUE","SELECT_CELL","SOLVE_PUZZLE","CLEAR_PUZZLES","isValidValue","isCellValid","getPeers","solve","initalState","input","highlight","output","solver","state","action","type","x","y","payload","newValue","value","nextState","nextSelectedState","peers","peer","solvedState","clearedState"],"mappings":"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","sourcesContent":["import { createStore } from 'redux';\r\nimport { SET_VALUE, SELECT_CELL, SOLVE_PUZZLE, CLEAR_PUZZLES } from './sudokuMove';\r\nimport { isValidValue, isCellValid, getPeers, solve } from './sudokuSolve'\r\n\r\nexport let initalState = {\r\n    // state of the input board\r\n    input: [\r\n        [8, 5, 6, '', 1, 4, 7, 3, ''],\r\n        ['', 9, '', '', '', '', '', '', ''],\r\n        [2, 4, '', '', '', '', 1, 6, ''],\r\n        ['', 6, 2, '', 5, 9, 3, '', ''],\r\n        ['', 3, 1, 8, '', 2, 4, 5, ''],\r\n        ['', '', 5, 3, 4, '', 9, 2, ''],\r\n        ['', 2, 4, '', '', '', '', 7, 3],\r\n        ['', '', '', '', '', '', '', 1, ''],\r\n        ['', 1, 8, 6, 3, '', 2, 9, 4],\r\n    ],\r\n    // highlight state for all squares. This is used to provide peer highlighting.\r\n    highlight: [\r\n        [false, false, false, false, false, false, false, false, false],\r\n        [false, false, false, false, false, false, false, false, false],\r\n        [false, false, false, false, false, false, false, false, false],\r\n        [false, false, false, false, false, false, false, false, false],\r\n        [false, false, false, false, false, false, false, false, false],\r\n        [false, false, false, false, false, false, false, false, false],\r\n        [false, false, false, false, false, false, false, false, false],\r\n        [false, false, false, false, false, false, false, false, false],\r\n        [false, false, false, false, false, false, false, false, false],\r\n    ],\r\n    // the solution board\r\n    output: [\r\n        ['', '', '', '', '', '', '', '', ''],\r\n        ['', '', '', '', '', '', '', '', ''],\r\n        ['', '', '', '', '', '', '', '', ''],\r\n        ['', '', '', '', '', '', '', '', ''],\r\n        ['', '', '', '', '', '', '', '', ''],\r\n        ['', '', '', '', '', '', '', '', ''],\r\n        ['', '', '', '', '', '', '', '', ''],\r\n        ['', '', '', '', '', '', '', '', ''],\r\n        ['', '', '', '', '', '', '', '', ''],\r\n    ],\r\n}\r\n\r\nexport function solver(state = initalState, action) {\r\n    switch (action.type) {\r\n        case SET_VALUE: {\r\n            const { x, y } = action.payload\r\n            // using '' to denote blank cells\r\n            const newValue = action.payload.value ? action.payload.value : ''\r\n            // copy state to avoid mutations\r\n            let nextState = {\r\n                input: [\r\n                    [...state.input[0]],\r\n                    [...state.input[1]],\r\n                    [...state.input[2]],\r\n                    [...state.input[3]],\r\n                    [...state.input[4]],\r\n                    [...state.input[5]],\r\n                    [...state.input[6]],\r\n                    [...state.input[7]],\r\n                    [...state.input[8]],\r\n                ],\r\n                output: [\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                ],\r\n                highlight: [...state.highlight],\r\n            }\r\n            // add users value\r\n            nextState.input[x][y] = newValue\r\n            // only update board if it is valid\r\n            if (isValidValue(newValue) && isCellValid(x, y, nextState.input)) {\r\n                return {\r\n                    ...nextState\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state\r\n                }\r\n            }\r\n        }\r\n        case SELECT_CELL: {\r\n            // copy state to avoid mutations\r\n            let nextSelectedState = {\r\n                input: [...state.input],\r\n                output: [...state.output],\r\n                highlight: [\r\n                    [...initalState.highlight[0]],\r\n                    [...initalState.highlight[1]],\r\n                    [...initalState.highlight[2]],\r\n                    [...initalState.highlight[3]],\r\n                    [...initalState.highlight[4]],\r\n                    [...initalState.highlight[5]],\r\n                    [...initalState.highlight[6]],\r\n                    [...initalState.highlight[7]],\r\n                    [...initalState.highlight[8]],\r\n                ],\r\n            }\r\n            // add selected cell to highlight\r\n            nextSelectedState.highlight[action.payload.x][action.payload.y] = true\r\n            // highlight all the peers of this cell\r\n            const peers = getPeers(action.payload.x, action.payload.y)\r\n            for (const peer of peers) {\r\n                nextSelectedState.highlight[peer.x][peer.y] = true\r\n            }\r\n            return nextSelectedState\r\n        }\r\n        case SOLVE_PUZZLE: {\r\n            const output = solve(state.input)\r\n            const solvedState = {\r\n                input: [...state.input],\r\n                output,\r\n                highlight: [...state.highlight]\r\n            }\r\n            return solvedState\r\n        }\r\n        case CLEAR_PUZZLES: {\r\n            const clearedState = {\r\n                input: [\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                ],\r\n                output: [\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                    ['', '', '', '', '', '', '', '', ''],\r\n                ],\r\n                highlight: [...initalState.highlight]\r\n            }\r\n            return clearedState\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}  \r\n\r\nexport default createStore(solver)"]},"metadata":{},"sourceType":"module"}